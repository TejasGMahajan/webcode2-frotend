{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\karthik\\\\Desktop\\\\Bike_Rental\\\\frontend\\\\src\\\\components\\\\payment.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Appcontext } from \"./context\";\nimport \"../css/pay.css\";\nimport axios from \"axios\";\nimport NavBar from \"./navbar\";\nimport Msg from \"./message\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Pay() {\n  _s();\n\n  let history = useHistory();\n  const {\n    bikeInfo\n  } = React.useContext(Appcontext);\n  const {\n    sDate\n  } = React.useContext(Appcontext);\n  const {\n    eDate\n  } = React.useContext(Appcontext);\n  const {\n    startTime\n  } = React.useContext(Appcontext);\n  const {\n    endTime,\n    bookPop,\n    setBikePop\n  } = React.useContext(Appcontext);\n  const {\n    setMsg,\n    pickUp,\n    setPickUp\n  } = React.useContext(Appcontext);\n  const {\n    data,\n    setData\n  } = React.useContext(Appcontext);\n  const [cardName, setcardName] = React.useState(\"\");\n  const [cardNum, setCardNum] = React.useState(\"\");\n  const [cvv, setcvv] = React.useState(\"\");\n  const [exp, setExp] = React.useState(\"\");\n  let date1 = new Date(sDate.toLocaleDateString().toString());\n  let date2 = new Date(eDate.toLocaleDateString().toString());\n  let Difference_In_Time = date2.getTime() - date1.getTime();\n  let Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24); //creating an instance for the axios\n\n  const storeData = window.localStorage.getItem(\"token\");\n  const instance = axios.create({\n    baseURL: \"https://bike-rental-portal.herokuapp.com\",\n    headers: {\n      \"auth-token\": storeData\n    }\n  });\n\n  async function chekdata(value) {\n    const response = await instance.post(\"/booking\", {\n      _id: value._id,\n      startDate: sDate.getTime(),\n      endDate: eDate.getTime(),\n      startTime: startTime.toLocaleTimeString(),\n      endTime: endTime.toLocaleTimeString(),\n      pickUp: pickUp\n    });\n    setMsg(response.data);\n    let old = [...data];\n    let index = old.findIndex(item => item._id === response.data._id);\n    old[index] = response.data;\n    setData(old);\n  }\n\n  function condition(value) {\n    if (cardName === \"\" || cardNum === \"\" || cvv === \"\" || exp === \"\") {\n      return alert(\"Enter valid card details\");\n    } else {\n      chekdata(value);\n      setBikePop(true);\n      setPickUp(\"\");\n    }\n  }\n\n  function handleChange(event) {\n    switch (event.target.name) {\n      case \"cardName\":\n        setcardName(event.target.value);\n        break;\n\n      case \"cardNum\":\n        setCardNum(event.target.value);\n        break;\n\n      case \"cvv\":\n        setcvv(event.target.value);\n        break;\n\n      case \"exp\":\n        setExp(event.target.value);\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(\"working\");\n    resetData();\n  }\n\n  function resetData() {\n    setcardName(\"\");\n    setCardNum(\"\");\n    setcvv(\"\");\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: startTime && endTime ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"payParent\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"pDiv2\",\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"green\",\n              fontWeight: \"bold\",\n              fontSize: \"1.2rem\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"priceing3 \",\n              style: {\n                marginRight: \"20px\"\n              },\n              children: \"Pay Amount : \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 88\n            }, this), sDate.toLocaleDateString().toString() === eDate.toLocaleDateString().toString() ? bikeInfo.rent + 350 + \" Rs.\" : bikeInfo.rent * Difference_In_Days + 350 + \" Rs.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n            style: {\n              marginBottom: \"10px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: cardName,\n            name: \"cardName\",\n            placeholder: \"enter card holder name\",\n            onChange: handleChange,\n            className: \"form-control\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 91\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: cardNum,\n            name: \"cardNum\",\n            placeholder: \"enter card number\",\n            onChange: handleChange,\n            className: \"form-control paytext\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 76\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: \"flex\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: \"10px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number \",\n                value: cvv,\n                name: \"cvv\",\n                placeholder: \"CVV\",\n                onChange: handleChange,\n                className: \"form-control paytext\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: \"10px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text \",\n                value: exp,\n                name: \"exp\",\n                placeholder: \"MM/YYYY\",\n                onChange: handleChange,\n                className: \"form-control paytext\",\n                required: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"debimg\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"allCredit\",\n              src: \"./images/allCards.png\",\n              alt: \"pay\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn  btn-lg btn-block btnn pbtn\",\n            onClick: () => {\n              condition(bikeInfo);\n            },\n            children: \" Pay amount \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), bookPop === true ? /*#__PURE__*/_jsxDEV(Msg, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 30\n      }, this) : null]\n    }, void 0, true) : history.push(\"/book\")\n  }, void 0, false);\n}\n\n_s(Pay, \"YUwCoRvSsQo2ylJLQ24XjX0WJWY=\", false, function () {\n  return [useHistory];\n});\n\n_c = Pay;\nexport default Pay;\n\nvar _c;\n\n$RefreshReg$(_c, \"Pay\");","map":{"version":3,"sources":["C:/Users/karthik/Desktop/Bike_Rental/frontend/src/components/payment.js"],"names":["React","Appcontext","axios","NavBar","Msg","useHistory","Pay","history","bikeInfo","useContext","sDate","eDate","startTime","endTime","bookPop","setBikePop","setMsg","pickUp","setPickUp","data","setData","cardName","setcardName","useState","cardNum","setCardNum","cvv","setcvv","exp","setExp","date1","Date","toLocaleDateString","toString","date2","Difference_In_Time","getTime","Difference_In_Days","storeData","window","localStorage","getItem","instance","create","baseURL","headers","chekdata","value","response","post","_id","startDate","endDate","toLocaleTimeString","old","index","findIndex","item","condition","alert","handleChange","event","target","name","handleSubmit","preventDefault","console","log","resetData","color","fontWeight","fontSize","marginRight","rent","marginBottom","display","padding","push"],"mappings":"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","sourcesContent":["\r\n\r\nimport React from \"react\";\r\nimport { Appcontext } from \"./context\";\r\nimport \"../css/pay.css\"\r\nimport axios from \"axios\";\r\nimport NavBar from \"./navbar\";\r\nimport Msg from \"./message\";\r\nimport {useHistory} from \"react-router-dom\"\r\n\r\nfunction Pay(){\r\n    let history = useHistory()\r\n    const{bikeInfo}= React.useContext(Appcontext)\r\n    const{sDate } = React.useContext(Appcontext)\r\n    const {eDate } = React.useContext(Appcontext)\r\n    const { startTime} = React.useContext(Appcontext)\r\n    const { endTime ,bookPop , setBikePop} = React.useContext(Appcontext)\r\n    const {setMsg ,pickUp ,setPickUp } = React.useContext(Appcontext)\r\n    const { data , setData } = React.useContext(Appcontext)\r\n\r\n    const[cardName , setcardName] = React.useState(\"\")\r\n    const[cardNum , setCardNum] = React.useState(\"\")\r\n    const[cvv , setcvv] = React.useState(\"\")\r\n    const[exp , setExp] = React.useState(\"\")\r\n\r\n  let date1 = new Date(sDate.toLocaleDateString().toString());\r\n  let date2 = new Date(eDate.toLocaleDateString().toString())\r\n  let  Difference_In_Time = date2.getTime() - date1.getTime();\r\n  let Difference_In_Days = Difference_In_Time / (1000 * 3600 * 24);\r\n\r\n//creating an instance for the axios\r\n  const storeData = window.localStorage.getItem(\"token\")\r\n  const instance = axios.create({\r\n    baseURL: \"https://bike-rental-portal.herokuapp.com\" , \r\n    headers:{\r\n        \"auth-token\" : storeData\r\n    },\r\n})\r\n\r\nasync function chekdata(value){\r\n      const response = await instance.post(\"/booking\",{\r\n        _id : value._id,\r\n        startDate :sDate.getTime(),\r\n        endDate :eDate.getTime(),\r\n        startTime : startTime.toLocaleTimeString(),\r\n        endTime : endTime.toLocaleTimeString(),\r\n        pickUp : pickUp,\r\n      })\r\n      setMsg(response.data)\r\n      let old = [...data]\r\n      let index = old.findIndex((item)=>item._id === response.data._id)\r\n      old[index]= response.data\r\n      setData(old)\r\n}\r\n\r\nfunction condition(value){\r\n    if(cardName === \"\" || cardNum===\"\" || cvv===\"\" || exp===\"\"){\r\n        return alert(\"Enter valid card details\")\r\n    }else{\r\n        chekdata(value)\r\n        setBikePop(true)\r\n        setPickUp(\"\")\r\n    }\r\n}\r\n\r\nfunction handleChange(event){\r\n    switch (event.target.name) {\r\n        case \"cardName\":\r\n            setcardName(event.target.value)\r\n            break;\r\n        case \"cardNum\":\r\n            setCardNum(event.target.value)\r\n            break;\r\n        case \"cvv\":\r\n            setcvv(event.target.value)\r\n            break;\r\n        case \"exp\":\r\n            setExp(event.target.value)\r\n            break;\r\n\r\n        default:\r\n            break;\r\n    }\r\n}\r\n\r\nfunction handleSubmit(event){\r\n    event.preventDefault()\r\n    console.log(\"working\")\r\n   resetData()\r\n}\r\n\r\n\r\nfunction resetData(){\r\n    setcardName(\"\")\r\n    setCardNum(\"\")\r\n    setcvv(\"\")\r\n}\r\n\r\n    return(\r\n        <>\r\n        {\r\n             startTime && endTime ? \r\n        <>\r\n        <NavBar/>\r\n        <div className =\"payParent\">\r\n                    <form className=\"pDiv2\" onSubmit={handleSubmit}>\r\n                    <p style={{color:\"green\" , fontWeight:\"bold\" , fontSize:\"1.2rem\"}}><span className=\"priceing3 \" style={{marginRight:\"20px\"}}>Pay Amount : </span>\r\n                            {sDate.toLocaleDateString().toString() === eDate.toLocaleDateString().toString() ? \r\n                            ((bikeInfo.rent +350 ) +  \" Rs.\" ): ((bikeInfo.rent * Difference_In_Days + 350) + \" Rs.\")}</p>\r\n                            <hr style={{marginBottom:\"10px\"}}/>\r\n                       \r\n                        <input type=\"text\" value={cardName} name=\"cardName\" \r\n                        placeholder=\"enter card holder name\" \r\n                        onChange={handleChange} className=\"form-control\" required></input><br/>\r\n                    \r\n                        <input type = \"text\" value={cardNum} name=\"cardNum\" \r\n                        placeholder=\"enter card number\" onChange={handleChange}\r\n                         className=\"form-control paytext\" required></input><br/>\r\n                        <div style={{display:\"flex\"}}>\r\n                            <div style={{padding :\"10px\"}}>\r\n                                <input type=\"number \" value={cvv} name=\"cvv\" placeholder=\"CVV\" \r\n                                onChange={handleChange} className=\"form-control paytext\" required></input>\r\n                            </div>\r\n                            <div style={{padding :\"10px\"}}>\r\n                                <input type=\"text \" value={exp} name=\"exp\" placeholder=\"MM/YYYY\" \r\n                                onChange={handleChange} className=\"form-control paytext\" required></input>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"debimg\">\r\n                            <img className=\"allCredit\" src=\"./images/allCards.png\" alt=\"pay\"/>\r\n                        </div>\r\n                        <button type=\"submit\" className=\"btn  btn-lg btn-block btnn pbtn\" \r\n                        onClick={()=>{\r\n                            condition(bikeInfo) \r\n                            }}> Pay amount </button>\r\n                    \r\n                    </form>\r\n                \r\n           \r\n        </div>\r\n        {\r\n            bookPop===true ? <Msg/> :null\r\n        }</>: history.push(\"/book\")}\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Pay;"]},"metadata":{},"sourceType":"module"}