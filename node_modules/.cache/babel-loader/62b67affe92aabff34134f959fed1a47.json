{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\karthik\\\\Desktop\\\\Bike_Rental\\\\frontend\\\\src\\\\components\\\\loginpage.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Appcontext } from \"./context\";\nimport \"../css/login.css\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction LogIn() {\n  _s();\n\n  const {\n    user,\n    setUser\n  } = React.useContext(Appcontext);\n  const {\n    login,\n    setLoginPop\n  } = React.useContext(Appcontext);\n  const {\n    setLoggedData\n  } = React.useContext(Appcontext);\n  const {\n    setToken\n  } = React.useContext(Appcontext);\n  const [msg, setMsg] = React.useState(\"\"); //    login logic\n\n  async function logged() {\n    try {\n      const response = await axios.post(\"https://bike-rental-portal.herokuapp.com/user/login\", {\n        email: user.email,\n        password: user.password\n      });\n      setLoggedData(response.data);\n      window.localStorage.setItem(\"infos\", JSON.stringify(response.data));\n\n      if (response.data.authToken) {\n        setLoginPop(false);\n        window.localStorage.setItem(\"token\", response.data.authToken);\n        setToken(response.data.authToken);\n      } else {\n        setLoginPop(true);\n        setMsg(response.data.message);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  function handleChange(event) {\n    switch (event.target.name) {\n      case \"emailId\":\n        setUser({ ...user,\n          email: event.target.value\n        });\n        break;\n\n      case \"password\":\n        setUser({ ...user,\n          password: event.target.value\n        });\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    logged();\n    setUser({ ...user,\n      email: \"\",\n      password: \"\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"logBack\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"logForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loghead\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              marginBottom: \"0\"\n            },\n            children: \"LOGIN FORM\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: \"pink\",\n              marginBottom: \"0px\"\n            },\n            children: \"(Get Your First Ride Booked Today)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginBottom: \"0px\"\n            },\n            children: msg ? msg : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          style: {\n            padding: \"15px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"email\",\n            name: \"emailId\",\n            value: user.email,\n            placeholder: \"enter your email address\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 165\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"password\",\n            name: \"password\",\n            value: user.password,\n            placeholder: \"enter password\",\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 162\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary btn-lg btn-block lgbtn\",\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-danger btn-lg btn-block lgbtn\",\n            onClick: () => {\n              setLoginPop(!login);\n            },\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"linkDiv\",\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/forgetPass\",\n            children: \"Forget Password ?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \"Sign-up/Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(LogIn, \"kTYVmSuqiDfIaKVGJNT4O9E85FQ=\");\n\n_c = LogIn;\nexport default LogIn;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogIn\");","map":{"version":3,"sources":["C:/Users/karthik/Desktop/Bike_Rental/frontend/src/components/loginpage.js"],"names":["React","Appcontext","Link","axios","LogIn","user","setUser","useContext","login","setLoginPop","setLoggedData","setToken","msg","setMsg","useState","logged","response","post","email","password","data","window","localStorage","setItem","JSON","stringify","authToken","message","error","console","log","handleChange","event","target","name","value","handleSubmit","preventDefault","marginBottom","color","padding"],"mappings":"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","sourcesContent":["\r\nimport React from \"react\";\r\nimport { Appcontext } from \"./context\";\r\nimport \"../css/login.css\"\r\nimport { Link } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nfunction LogIn(){\r\n   \r\n    const {user , setUser} = React.useContext(Appcontext)   \r\n    const{login , setLoginPop} = React.useContext(Appcontext);\r\n    const { setLoggedData} =  React.useContext(Appcontext);\r\n    const{ setToken} = React.useContext(Appcontext);\r\n    const[ msg , setMsg] = React.useState (\"\")  \r\n\r\n//    login logic\r\n        async function logged(){\r\n            try{\r\n                const response = await axios.post(\"https://bike-rental-portal.herokuapp.com/user/login\",{\r\n                    email: user.email,\r\n                    password: user.password\r\n                })\r\n\r\n            setLoggedData(response.data)\r\n            window.localStorage.setItem(\"infos\" , JSON.stringify(response.data))\r\n\r\n                if(response.data.authToken){\r\n                    setLoginPop(false)\r\n                    window.localStorage.setItem(\"token\" , response.data.authToken)\r\n                    setToken(response.data.authToken)\r\n                   \r\n                }else{\r\n                    setLoginPop(true)\r\n                    setMsg(response.data.message)\r\n                   \r\n                }\r\n            }catch(error){\r\n                console.log(error)\r\n            }\r\n        }\r\n       \r\n  \r\n    function handleChange(event){\r\n        switch (event.target.name) {\r\n            case \"emailId\":\r\n                setUser({...user , email:event.target.value})\r\n                break;\r\n            case \"password\":\r\n                setUser({...user , password:event.target.value})\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n   function handleSubmit(event){\r\n        event.preventDefault()\r\n         logged()\r\n         setUser({...user , email:\"\" , password:\"\"})\r\n       \r\n    }\r\n\r\n    return(\r\n        <>\r\n        <div className=\"logBack\">\r\n            <div className=\"logForm\">\r\n                <div className=\"loghead\">\r\n                    <h4 style={{marginBottom:\"0\"}}>LOGIN FORM</h4>\r\n                    <p style={{color:\"pink\" , marginBottom:\"0px\"}}>(Get Your First Ride Booked Today)</p>\r\n                    <p style={{marginBottom:\"0px\"}}>{msg ? msg : null}</p>\r\n                </div>\r\n                <form onSubmit={handleSubmit} style={{padding:\"15px\"}}>\r\n                    <input  className=\"form-control\" type=\"email\" name=\"emailId\" value={user.email} placeholder=\"enter your email address\" onChange={handleChange}/><br/>\r\n                    <input  className=\"form-control\" type=\"password\" name=\"password\" value={user.password} placeholder=\"enter password\" onChange={handleChange}/><br/>\r\n                    <hr/>\r\n                    <button className=\"btn btn-primary btn-lg btn-block lgbtn\" type=\"submit\">Login</button>\r\n                    <button className=\"btn btn-danger btn-lg btn-block lgbtn\" onClick={()=>{setLoginPop(!login)}}>Cancel</button>\r\n                </form>\r\n                <div className=\"linkDiv\">\r\n                <Link to=\"/forgetPass\">Forget Password ?</Link>\r\n                <Link to=\"/register\">Sign-up/Register</Link>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        </>\r\n    )\r\n}\r\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}